ActiveToc=function(){let e,t,i,o,n;function r(r){let c;if(e=function(t){return e=t||{},e}(r),e.tocContainer?"string"==typeof e.tocContainer?c="#"==e.tocContainer.charAt(0)?e.tocContainer:"#"+e.tocContainer:n=e.tocContainer:c="#header",document.querySelector&&window.IntersectionObserver&&c&&(n=document.querySelector(c),n||(n=document.getElementsByTagName("header")[0]),!n))return void console.error("TocContainer with either id=["+c+"] or tag=<header> could not be found in DOM");t=[...n.querySelectorAll("a")],i=t.map(e=>{let t=e.getAttribute("href");return document.querySelector(t)});o=new IntersectionObserver(s,{rootMargin:"0px"}),i.forEach(e=>{e&&o.observe(e)})}function c(){i&&i.forEach(e=>{e&&o.unobserve(e)})}function s(e,o){e.forEach(e=>{let o=`#${e.target.getAttribute("id")}`;t.forEach(t=>{t.getAttribute("href")===o&&(e.isIntersecting?(t.classList.add("is-visible"),previousSection=e.target.getAttribute("id")):t.classList.remove("is-visible"))}),function(){let e=!1;if(t.forEach(t=>{t.classList.remove("is-active"),t.classList.contains("is-visible")&&(e=!0)}),!e)for(let e=i.length-1;e>0;e--)if(i[e]&&i[e].offsetTop<=window.pageYOffset){n.querySelectorAll(`a[href="#${i[e].id}"]`).forEach(e=>{e.classList.add("is-active")});break}}()})}return{init:function(e){r(e)},unobserve:function(){c()},destroy:function(){c(),t.forEach(e=>{e.classList.remove("is-visible"),e.classList.remove("is-active")})}}}();try{module&&(module.exports={init:function(e){this.activeToc||(this.activeToc=ActiveToc),this.activeToc.init(e)},destroy:function(){this.activeToc&&this.activeToc.destroy()},unobserve:function(){this.activeToc&&this.activeToc.unobserve()}})}catch(e){console.log("Using ActiveToc in non-node environment")}
